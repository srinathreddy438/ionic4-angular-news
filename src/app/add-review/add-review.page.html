<!-- <ion-header>
  <ion-toolbar color="secondary">
    <ion-icon routerLink="/home-page" class="home-icon" [name]="'home'"></ion-icon>
    <ion-title>add-review</ion-title>
  </ion-toolbar>
</ion-header> -->
<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start" routerLink="/movies">
      <ion-icon name="arrow-back" class="back-icon"></ion-icon>
    </ion-buttons>
    <ion-title>
      Add Review
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <!-- <ion-card>
    <iframe *ngIf="movie.video" width="100%" height="400" [src]="movie.video | safePipe">
    </iframe>
    <img *ngIf="!movie.video && movie.image" src="{{movie.image}}" />
    {{movie?.certificate}}
    <ion-card-title>
      {{movie?.title}}
    </ion-card-title>
    <ion-card-subtitle>
      {{movie?.language}}
    </ion-card-subtitle>
    <ion-card-subtitle>
      {{movie?.description}}
    </ion-card-subtitle>
  </ion-card> -->
  <div>
    <iframe *ngIf="movie?.video" width="100%" height="400" [src]="movie?.video | safePipe">
    </iframe>
    <img *ngIf="!movie?.video && movie?.image" src="{{movie?.image}}" />
    {{movie?.certificate}}
  </div>
  <div class="movie-details">
    <div>
      {{movie?.title}}
    </div>
    <div>
      {{movie?.language}}
    </div>
    <div>
      {{movie?.description}}
    </div>
  </div>
  <div *ngIf="!ratingList?.length" class="no-review" color="primary">
    No Reviews added, Add your review
  </div>
  <div class="rating-list">
    <div class="rating" *ngFor="let rating of ratingList">
      <div class="name-edit">
        <div>
          {{rating?.userName}}
          <ion-badge color="medium" *ngIf="userName === (rating?.userName)">YOU</ion-badge>
        </div>
        <div class="edit" (click)="updateRating($event, rating)" *ngIf="userName === (rating?.userName)">EDIT</div>
      </div>
      <div>
        <div class="date">{{rating?.ratingGivenDate | date: 'dd/MM/yyyy'}}</div>
        <div class="rating-stat-list">
          <div *ngFor="let rate of ratingStarsList; let i = index;">
            <ion-icon [ngClass]="((rate?.rating) <= (rating?.rating)) ? 'selected' : ''" class="rating-icon" name="star"></ion-icon>
          </div>
        </div>
        <div>{{rating?.description}}</div>
      </div>
    </div>
  </div>
</ion-content>
<ion-footer>
  <ion-toolbar color="danger">
    <ion-title (click)="presentPopover($event, '')">
      Rate The Movie
    </ion-title>
  </ion-toolbar>
</ion-footer>